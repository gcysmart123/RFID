C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE TM1629
OBJECT MODULE PLACED IN tm1629.obj
COMPILER INVOKED BY: D:\Keil\C51\BIN\C51.EXE Receiver\tm1629.c LARGE BROWSE INCDIR(.\Receiver) DEBUG OBJECTEXTEND PRINT(
                    -.\tm1629.lst) OBJECT(tm1629.obj)

line level    source

   1          #include "tm1629.h"
   2          #include "timer.h"
   3          #include "usart.h"
   4          #include "ds1302.h"
   5          #include "key.h"
   6          #include "menu.h"
   7          #include "gd5800.h"
   8          #include "at24c256.h"
   9          #include "ev1527.h"
  10          #include "decoder.h"
  11          //#include "global.h"
  12          
  13          unsigned char const CODE[] = { 0x3F, 0x06, 0x5B, 0x4F, 0x66, 0x6D, 0x7D, 0x07, 0x7F, 0x6F, 0x77, 0x7C, 0x3
             -9, 0x5E, 0x79, 0x71, 0x76, 0x38, 0x5c, 0x73, 0x3e };//0-9 abcdef ÏÔÊ¾Æ÷ÂëÊý×é
  14          unsigned char const INIT_CODE[] = { 0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80 };//Öð¶ÎµãÁÁÊýÂë¹ÜÊý×é
  15          unsigned char const SHANGSHUO[] = { 0x40, 0x00 }; // µãÁÁÊýÂë¹ÜÖÐ¼ä¶ÎÒÔ¼°Ãð
  16          unsigned char buf_display[6][8] = { 0 }; //3¸öTM1629ÏÔ´æÊý×é
  17          unsigned char display_ram[800] = { 0 }; //³ÌÐòÔËÐÐÊ±¼ÇÂ¼ÏÔÊ¾Êý¾ÝµÄÄÚ´æ 
  18          unsigned char await_time_table= 0 ;//ÓÃÓÚ¼ÇÂ¼´ý»úÏÔÊ¾ºá¸ÜÊýÂë¹Ü´ÎÊý 
  19          unsigned char Two_Menu_F8_E1_save =0;
  20          
  21          unsigned char single_key[16]   = { 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,
             - 0x01, 0x01, 0x01, 0x01 };//µ¥¼üÎ»ÉèÖÃ´æ´¢Êý×é
  22          unsigned char multiple_key[16] = { 0x01, QUXIAO-QUXIAO, JIEZHANG-QUXIAO, DIANDANG-QUXIAO, JIUSHUI-QUXIAO, 
             -0X01, 0x01, JIASHUI-QUXIAO, HUJIAO - QUXIAO, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01 };//¶à¼üÎ»ÉèÖÃ´æ´¢Êý×é
  23          #ifdef COPY_TWO_MACHINE
  24          //11111111111111
  25          uint16_t Two_Menu_FE_E1_addr = 0;
  26          uint8_t  Two_Menu_FE_status = 0;
  27          uint16_t Two_Menu_FE_E2_addr = 0;
  28          uint8_t  Two_Menu_FE_E2_table = 0;
  29          uint8_t  Two_Menu_FE_E2_data[10];
  30          #endif
  31          void writeDataTo1629(unsigned char p) //Ð´Êý¾Ý¸øµÚÒ»¸öTM1629
  32          {
  33   1              unsigned int i;
  34   1              TM1629_STB = 0;
  35   1              for (i = 0; i<8; i++)
  36   1              {
  37   2                      TM1629_CLK = 0;
  38   2                      if (p & 0x01)
  39   2                              TM1629_DIO = 1;
  40   2                      else
  41   2                              TM1629_DIO = 0;
  42   2                      _nop_();
  43   2                      _nop_();
  44   2                      _nop_();
  45   2                      _nop_();
  46   2                      TM1629_CLK = 1;
  47   2                      p = p >> 1;
  48   2              }
  49   1              TM1629_CLK = 0;
  50   1              TM1629_DIO = 0;
  51   1      }
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 2   

  52          
  53          void writeDataTo1629_2(unsigned char p) //Ð´Êý¾Ý¸øµÚ¶þ¸öTM1629
  54          {
  55   1              unsigned int i;
  56   1              TM1629_STB2 = 0;
  57   1              for (i = 0; i<8; i++)
  58   1              {
  59   2                      TM1629_CLK = 0;
  60   2                      if (p & 0x01)
  61   2                              TM1629_DIO = 1;
  62   2                      else
  63   2                              TM1629_DIO = 0;
  64   2                      _nop_();
  65   2                      _nop_();
  66   2                      _nop_();
  67   2                      _nop_();
  68   2                      TM1629_CLK = 1;
  69   2                      p = p >> 1;
  70   2              }
  71   1              TM1629_CLK = 0;
  72   1              TM1629_DIO = 0;
  73   1      }
  74          
  75          void writeDataTo1629_3(unsigned char p) //Ð´Êý¾Ý¸øµÚÈý¸öTM1629
  76          {
  77   1              unsigned int i;
  78   1              TM1629_STB3 = 0;
  79   1              for (i = 0; i<8; i++)
  80   1              {
  81   2                      TM1629_CLK = 0;
  82   2                      if (p & 0x01)
  83   2                              TM1629_DIO = 1;
  84   2                      else
  85   2                              TM1629_DIO = 0;
  86   2                      _nop_();
  87   2                      _nop_();
  88   2                      _nop_();
  89   2                      _nop_();
  90   2                      TM1629_CLK = 1;
  91   2                      p = p >> 1;
  92   2              }
  93   1              TM1629_CLK = 0;
  94   1              TM1629_DIO = 0;
  95   1      }
  96          
  97          void send_command(unsigned char word) //Ð´ÃüÁî¸øµÚÒ»¸öTM1629
  98          {
  99   1              TM1629_STB = 1;
 100   1              nop;
 101   1              TM1629_STB = 0;
 102   1              writeDataTo1629(word);
 103   1      }
 104          
 105          void send_command_2(unsigned char word) //Ð´ÃüÁî¸øµÚ¶þ¸öTM1629
 106          {
 107   1              TM1629_STB2 = 1;
 108   1              nop;
 109   1              TM1629_STB2 = 0;
 110   1              writeDataTo1629_2(word);
 111   1      }
 112          
 113          void send_command_3(unsigned char word) //Ð´ÃüÁî¸øµÚÈý¸öTM1629
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 3   

 114          {
 115   1              TM1629_STB3 = 1;
 116   1              nop;
 117   1              TM1629_STB3 = 0;
 118   1              writeDataTo1629_3(word);
 119   1      }
 120          
 121          void display(void) //3¸öTM1629ÏÔÊ¾º¯Êý
 122          {
 123   1              unsigned char i,temp;
 124   1      #ifdef PRODUCT_4_15INCH
 125   1              unsigned char buf_temp;
 126   1      #endif
 127   1              temp = return_Two_Menu_F6_E5();
 128   1              send_command(0x40);     //ÉèÖÃÊý¾ÝÃüÁî:ÆÕÍ¨Ä£Ê½¡¢µØÖ·×ÔÔö1£¬Ð´Êý¾Ýµ½ÏÔ´æ
 129   1              send_command(0xc0);     //ÉèÖÃÏÔÊ¾µØÖ·ÃüÁî£º´Ó00H¿ªÊ¼
 130   1      #ifdef PRODUCT_4_15INCH
 131   1              buf_display[1][7] = buf_display[1][3];
 132   1              buf_display[1][6] = buf_display[1][2];
 133   1              buf_display[1][5] = buf_display[1][1];
 134   1              buf_temp =      buf_display[1][0];
 135   1              buf_display[1][0] = buf_display[1][4];
 136   1              buf_display[1][4] = buf_temp;
 137   1      #endif  
 138   1      #ifdef PRODUCT_4_30INCH
                              buf_display[0][4]=buf_display[0][0];
                              buf_display[0][5]=buf_display[0][1];
                              buf_display[0][6]=buf_display[0][2];
                              buf_display[0][7]=buf_display[0][3];
              #endif
 144   1              for (i = 0; i<8; i++)   //·¢ËÍ16×Ö½ÚµÄÏÔ´æÊý¾Ý
 145   1              {
 146   2                      writeDataTo1629(buf_display[0][i]);
 147   2                      writeDataTo1629(buf_display[1][i]);
 148   2              }
 149   1              send_command(0x88 + temp);      //ÉèÖÃÏÔÊ¾¿ØÖÆÃüÁî£º´ò¿ªÏÔÊ¾£¬²¢ÉèÖÃÎª11/16.
 150   1              TM1629_STB = 1;
 151   1      
 152   1              send_command_2(0x40);   //ÉèÖÃÊý¾ÝÃüÁî:ÆÕÍ¨Ä£Ê½¡¢µØÖ·×ÔÔö1£¬Ð´Êý¾Ýµ½ÏÔ´æ
 153   1              send_command_2(0xc0);   //ÉèÖÃÏÔÊ¾µØÖ·ÃüÁî£º´Ó00H¿ªÊ¼
 154   1              for (i = 0; i<8; i++)   //·¢ËÍ16×Ö½ÚµÄÏÔ´æÊý¾Ý
 155   1              {
 156   2                      writeDataTo1629_2(buf_display[2][i]);
 157   2                      writeDataTo1629_2(buf_display[3][i]);
 158   2              }
 159   1              send_command_2(0x88 + temp);    //ÉèÖÃÏÔÊ¾¿ØÖÆÃüÁî£º´ò¿ªÏÔÊ¾£¬²¢ÉèÖÃÎª11/16.
 160   1              TM1629_STB2 = 1;
 161   1      
 162   1              send_command_3(0x40);   //ÉèÖÃÊý¾ÝÃüÁî:ÆÕÍ¨Ä£Ê½¡¢µØÖ·×ÔÔö1£¬Ð´Êý¾Ýµ½ÏÔ´æ
 163   1              send_command_3(0xc0);   //ÉèÖÃÏÔÊ¾µØÖ·ÃüÁî£º´Ó00H¿ªÊ¼
 164   1              for (i = 0; i<8; i++)   //·¢ËÍ16×Ö½ÚµÄÏÔ´æÊý¾Ý
 165   1              {
 166   2                      writeDataTo1629_3(buf_display[4][i]);
 167   2                      writeDataTo1629_3(buf_display[5][i]);
 168   2              }
 169   1              send_command_3(0x88 + temp);    //ÉèÖÃÏÔÊ¾¿ØÖÆÃüÁî£º´ò¿ªÏÔÊ¾£¬²¢ÉèÖÃÎª11/16.
 170   1              TM1629_STB3 = 1;
 171   1      }
 172          
 173          void display_light(unsigned char temp) //3¸öTM1629ÏÔÊ¾º¯Êý
 174          {
 175   1              unsigned char i;
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 4   

 176   1              send_command(0x40);     //ÉèÖÃÊý¾ÝÃüÁî:ÆÕÍ¨Ä£Ê½¡¢µØÖ·×ÔÔö1£¬Ð´Êý¾Ýµ½ÏÔ´æ
 177   1              send_command(0xc0);     //ÉèÖÃÏÔÊ¾µØÖ·ÃüÁî£º´Ó00H¿ªÊ¼
 178   1              for (i = 0; i<8; i++)   //·¢ËÍ16×Ö½ÚµÄÏÔ´æÊý¾Ý
 179   1              {
 180   2                      writeDataTo1629(temp);
 181   2                      writeDataTo1629(temp);
 182   2              }
 183   1              send_command(0x8f);     //ÉèÖÃÏÔÊ¾¿ØÖÆÃüÁî£º´ò¿ªÏÔÊ¾£¬²¢ÉèÖÃÎª11/16.
 184   1              TM1629_STB = 1;
 185   1      
 186   1              send_command_2(0x40);   //ÉèÖÃÊý¾ÝÃüÁî:ÆÕÍ¨Ä£Ê½¡¢µØÖ·×ÔÔö1£¬Ð´Êý¾Ýµ½ÏÔ´æ
 187   1              send_command_2(0xc0);   //ÉèÖÃÏÔÊ¾µØÖ·ÃüÁî£º´Ó00H¿ªÊ¼
 188   1              for (i = 0; i<8; i++)   //·¢ËÍ16×Ö½ÚµÄÏÔ´æÊý¾Ý
 189   1              {
 190   2                      writeDataTo1629_2(temp);
 191   2                      writeDataTo1629_2(temp);
 192   2              }
 193   1              send_command_2(0x8f);   //ÉèÖÃÏÔÊ¾¿ØÖÆÃüÁî£º´ò¿ªÏÔÊ¾£¬²¢ÉèÖÃÎª11/16.
 194   1              TM1629_STB2 = 1;
 195   1      
 196   1              send_command_3(0x40);   //ÉèÖÃÊý¾ÝÃüÁî:ÆÕÍ¨Ä£Ê½¡¢µØÖ·×ÔÔö1£¬Ð´Êý¾Ýµ½ÏÔ´æ
 197   1              send_command_3(0xc0);   //ÉèÖÃÏÔÊ¾µØÖ·ÃüÁî£º´Ó00H¿ªÊ¼
 198   1              for (i = 0; i<8; i++)   //·¢ËÍ16×Ö½ÚµÄÏÔ´æÊý¾Ý
 199   1              {
 200   2                      writeDataTo1629_3(temp);
 201   2                      writeDataTo1629_3(temp);
 202   2              }
 203   1              send_command_3(0x8f);   //ÉèÖÃÏÔÊ¾¿ØÖÆÃüÁî£º´ò¿ªÏÔÊ¾£¬²¢ÉèÖÃÎª11/16.
 204   1              TM1629_STB3 = 1;
 205   1      }
 206          
 207          void tm1629_init(void) //TM1629¿ª»ú³õÊ¼»¯º¯Êý
 208          {
 209   1              unsigned char i, j, k;          //k¿ØÖÆÏÔÊ¾µÄ¾ßÌåÊý×Ö£¬iºÍj¿ØÖÆbuf_displayµÄË¢ÐÂ
 210   1              for (k = 0; k<8; k++)
 211   1              {
 212   2                      for (i = 0; i<6; i++)
 213   2                      {
 214   3                              for (j = 0; j<8; j++)
 215   3                              {
 216   4                                      buf_display[i][j] = INIT_CODE[k];
 217   4                              }
 218   3                      }
 219   2                      display();
 220   2                      if (k == 1 )
 221   2                      GD5800_select_chapter(CHUSHIHUA);
 222   2                      Tm1629_delay(30);
 223   2              }
 224   1      }
 225          
 226          
 227          void Tm1629_delay(unsigned char k) //ÑÓÊ±º¯Êý
 228          {
 229   1              unsigned char i, j;
 230   1              for (; k>0; k--)
 231   1              {
 232   2                      for (i = 255; i>0; i--)
 233   2                      {
 234   3                              for (j = 255; j>0; j--)
 235   3                              {
 236   4                                      ;
 237   4      
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 5   

 238   4                              }
 239   3                      }
 240   2              }
 241   1      }
 242          
 243          void tm1629_clear(void)//È«²¿¹éÁã
 244          {
 245   1              unsigned char i, j;
 246   1              for (i = 0; i<6; i++)
 247   1              {
 248   2                      for (j = 0; j<8; j++)
 249   2                      {
 250   3                              buf_display[i][j] = 0x00;
 251   3                      }
 252   2              }
 253   1      }
 254          
 255          void tm1629_display_buff_clear(void)//Çå³ý¶ÓÁÐ»º´æ
 256          {
 257   1              unsigned char i;
 258   1              for (i = 0; i<120; i++)
 259   1                      display_ram[i] = 0;
 260   1      }
 261          
 262          void tm1629_await(void)
 263          {
 264   1              unsigned char i;        //k¿ØÖÆÏÔÊ¾µÄ¾ßÌåÊý×Ö£¬iºÍj¿ØÖÆbuf_displayµÄË¢ÐÂ
 265   1              unsigned char await_number_table_temp = 0;
 266   1              await_number_table_temp = return_await_number_table();
 267   1              if (await_number_table_temp == 1)
 268   1              {
 269   2                      //GD5800_select_chapter(0x0008) ;
 270   2                      tm1629_clear();
 271   2                      i = await_time_table & 0x03;
 272   2                      buf_display[0][i] = 0x40;
 273   2                      display();
 274   2                      set_await_number_table(0);
 275   2                      await_time_table++;
 276   2                      if (await_time_table == 4)
 277   2                              await_time_table = 0;
 278   2              }
 279   1      }
 280          
 281          void Display_time(void)
 282          {
 283   1              if (return_Two_Menu_F6_E7() == 0)
 284   1              {
 285   2                      tm1629_clear();
 286   2                      Ds1302_Read_Time();
 287   2                      buf_display[0][7] = CODE[2];                            //Äê
 288   2                      buf_display[0][6] = CODE[0];
 289   2                      buf_display[0][5] = CODE[time_buf1[1] / 10];
 290   2                      buf_display[0][4] = CODE[time_buf1[1] % 10];
 291   2      
 292   2      
 293   2                      buf_display[1][1] = CODE[time_buf1[2] / 10]; //ÔÂ
 294   2                      buf_display[1][0] = CODE[time_buf1[2] % 10];
 295   2      
 296   2      
 297   2                      buf_display[1][3] = CODE[time_buf1[3] / 10];
 298   2                      buf_display[1][2] = CODE[time_buf1[3] % 10];//ÈÕ
 299   2      
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 6   

 300   2                      buf_display[1][4] = CODE[time_buf1[7]];         //ÐÇÆÚ
 301   2      
 302   2                      buf_display[0][3] = CODE[time_buf1[4] / 10]; //Ð¡Ê±
 303   2                      buf_display[0][2] = CODE[time_buf1[4] % 10];
 304   2                      buf_display[0][1] = CODE[time_buf1[5] / 10]; //Ð¡Ê±
 305   2                      buf_display[0][0] = CODE[time_buf1[5] % 10];
 306   2      
 307   2                      display();
 308   2      
 309   2              }
 310   1              else
 311   1              {
 312   2                      tm1629_clear();
 313   2                      Ds1302_Read_Time();
 314   2                      buf_display[1][3] = CODE[2];                            //Äê
 315   2                      buf_display[1][2] = CODE[0];
 316   2                      buf_display[1][1] = CODE[time_buf1[1] / 10];
 317   2                      buf_display[1][0] = CODE[time_buf1[1] % 10];
 318   2      
 319   2      
 320   2                      buf_display[0][7] = CODE[time_buf1[2] / 10]; //ÔÂ
 321   2                      buf_display[0][6] = CODE[time_buf1[2] % 10];
 322   2      
 323   2      
 324   2                      buf_display[0][5] = CODE[time_buf1[3] / 10];
 325   2                      buf_display[0][4] = CODE[time_buf1[3] % 10];//ÈÕ
 326   2      
 327   2                      buf_display[1][4] = CODE[time_buf1[7]];         //ÐÇÆÚ
 328   2      
 329   2                      buf_display[0][3] = CODE[time_buf1[4] / 10]; //Ð¡Ê±
 330   2                      buf_display[0][2] = CODE[time_buf1[4] % 10];
 331   2                      buf_display[0][1] = CODE[time_buf1[5] / 10]; //Ð¡Ê±
 332   2                      buf_display[0][0] = CODE[time_buf1[5] % 10];
 333   2      
 334   2                      display();
 335   2              }
 336   1      }
 337          
 338          void tm1629_f(unsigned char f_number) //µÚÒ»ÐÐµ¹Êý¶þ¸öÏÔÊ¾F,µ¹ÊýµÚÒ»¸öÏÔÊ¾f_number
 339          {
 340   1              tm1629_clear();
 341   1      #ifdef PRODUCT_6_32INCH
                      buf_display[0][2] = CODE[0x0f];
                      buf_display[0][1] = CODE[f_number];
              #endif
 345   1      #ifdef  OLD_FUNTION
 346   1              buf_display[0][1] = CODE[0x0f];
 347   1              buf_display[0][0] = CODE[f_number];
 348   1      #endif
 349   1              display();
 350   1      }
 351          
 352          void tm1629_E(unsigned char f_number) //µÚÒ»ÐÐµ¹Êý¶þ¸öÏÔÊ¾F,µ¹ÊýµÚÒ»¸öÏÔÊ¾f_number
 353          {
 354   1              tm1629_clear();
 355   1      #ifdef PRODUCT_6_32INCH
                      buf_display[0][2] = CODE[0x0E];
                      buf_display[0][1] = CODE[f_number];
              #endif
 359   1      #ifdef  OLD_FUNTION
 360   1              buf_display[0][1] = CODE[0x0E];
 361   1              buf_display[0][0] = CODE[f_number];
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 7   

 362   1      #endif
 363   1              display();
 364   1      }
 365          void Show_on(void)
 366          {
 367   1              tm1629_clear();
 368   1      #ifdef PRODUCT_6_32INCH
                      buf_display[0][2] = CODE[0];
                      buf_display[0][1] = 0X37;
              #endif
 372   1      #ifdef OLD_FUNTION
 373   1              buf_display[0][1] = CODE[0];
 374   1              buf_display[0][0] = 0x37;
 375   1      #endif
 376   1              display();
 377   1      }
 378          
 379          void Show_off(void)
 380          {
 381   1              tm1629_clear();
 382   1      #ifdef PRODUCT_6_32INCH
                      buf_display[0][2] = CODE[0x00];
                      buf_display[0][1] = CODE[0X0f];
              #endif
 386   1      #ifdef OLD_FUNTION
 387   1              buf_display[0][1] = CODE[0x00];
 388   1              buf_display[0][0] = CODE[0x0f];
 389   1      #endif
 390   1              display();
 391   1      }
 392          
 393          void Show_one_number(unsigned char f_number) //ÏÔÊ¾Ò»¸öÊý×Ö
 394          {
 395   1              tm1629_clear();
 396   1              //buf_display[0][1] = CODE[0x0E];
 397   1      #ifdef PRODUCT_6_32INCH
                      buf_display[0][1] = CODE[f_number];
              #endif
 400   1      #ifdef OLD_FUNTION
 401   1              buf_display[0][0] = CODE[f_number];
 402   1      #endif
 403   1              display();
 404   1      }
 405          
 406          void Show_two_number(unsigned char f_number) //ÏÔÊ¾Á½¸öÊý×Ö
 407          {
 408   1              tm1629_clear();
 409   1      #ifdef PRODUCT_6_32INCH
                      buf_display[0][2] = CODE[f_number / 10];
                      buf_display[0][1] = CODE[f_number % 10];
              #endif
 413   1      #ifdef OLD_FUNTION
 414   1              buf_display[0][1] = CODE[f_number / 10];
 415   1              buf_display[0][0] = CODE[f_number % 10];
 416   1      #endif
 417   1              display();
 418   1      }
 419          
 420          
 421          void Show_three_number(unsigned int f_number) //ÏÔÊ¾Èý¸öÊý×Ö
 422          {
 423   1              tm1629_clear();
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 8   

 424   1      #ifdef PRODUCT_6_32INCH
                      buf_display[0][3] = CODE[f_number / 100];
                      buf_display[0][2] = CODE[(f_number / 10) %10];
                      buf_display[0][1] = CODE[f_number % 10];
              #endif
 429   1      #ifdef OLD_FUNTION
 430   1              buf_display[0][2] = CODE[f_number / 100];
 431   1              buf_display[0][1] = CODE[(f_number / 10) %10];
 432   1              buf_display[0][0] = CODE[f_number % 10];
 433   1      #endif
 434   1              display();
 435   1      }
 436          
 437          void Show_four_number(unsigned char* temp)
 438          {
 439   1              tm1629_clear();
 440   1      #ifdef PRODUCT_6_32INCH
                      buf_display[0][3] = CODE[*(temp+1)];
                      buf_display[0][2] = CODE[*(temp+2)];
                      buf_display[0][1] = CODE[*(temp+3)];
                      //buf_display[0][0] = CODE[*(temp+3)];
              #endif
 446   1      #ifdef OLD_FUNTION
 447   1              buf_display[0][3] = CODE[*(temp)];
 448   1              buf_display[0][2] = CODE[*(temp+1)];
 449   1              buf_display[0][1] = CODE[*(temp+2)];
 450   1              buf_display[0][0] = CODE[*(temp+3)];
 451   1      #endif
 452   1              display();
 453   1      }
 454          
 455          void tm1629_load(void)
 456          {
 457   1              tm1629_clear();
 458   1              if (*(display_ram + 88) != 0)
 459   1                      mcuram_to_displayram(buf_display[5] + 7, display_ram + 88);
 460   1              if (*(display_ram + 80) != 0)
 461   1                      mcuram_to_displayram(buf_display[5] + 3, display_ram + 80);
 462   1              if (*(display_ram + 72) != 0)
 463   1                      mcuram_to_displayram(buf_display[4] + 7, display_ram + 72);
 464   1              if (*(display_ram + 64) != 0)
 465   1                      mcuram_to_displayram(buf_display[4] + 3, display_ram + 64);
 466   1              if (*(display_ram + 56) != 0)
 467   1                      mcuram_to_displayram(buf_display[3] + 7, display_ram + 56);
 468   1              if (*(display_ram + 48) != 0)
 469   1                      mcuram_to_displayram(buf_display[3] + 3, display_ram + 48);
 470   1              if (*(display_ram + 40) != 0)
 471   1                      mcuram_to_displayram(buf_display[2] + 7, display_ram + 40);
 472   1              if (*(display_ram + 32) != 0)
 473   1                      mcuram_to_displayram(buf_display[2] + 3, display_ram + 32);
 474   1              if (*(display_ram + 24) != 0)
 475   1                      mcuram_to_displayram(buf_display[1] + 7, display_ram + 24);
 476   1              if (*(display_ram + 16) != 0)
 477   1                      mcuram_to_displayram(buf_display[1] + 3, display_ram + 16);
 478   1              if (*(display_ram + 8) != 0)
 479   1                      mcuram_to_displayram(buf_display[0] + 7, display_ram + 8);
 480   1              if (*(display_ram + 0) != 0)
 481   1                      mcuram_to_displayram(buf_display[0] + 3, display_ram);
 482   1      
 483   1              //buf_display[0][5] = CODE[decoder_num / 10];
 484   1              //buf_display[0][4] = CODE[decoder_num % 10];
 485   1      }
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 9   

 486          
 487          void mcuram_to_displayram(unsigned char a[48], unsigned char* b)  //´ÓRAMÇøÓòÒÆµ½ÏÔ´æÇøÓò,Ë³´ø·­Òë³ÉÊýÂë¹Ü
             -ÏÔÊ¾µÄÂë
 488          {
 489   1              /*
 490   1              A// Àà±ð¡¢ÇøºÅ¡¢½ÓÊÕºÅ
 491   1              B// Àà±ð¡¢ÇøºÅ¡¢½ÓÊÕºÅ
 492   1              */
 493   1      #ifdef PRODUCT_6_32INCH
                      unsigned char temp = 0;
                      temp = return_Two_Menu_FC_E1();
                      if(temp == 1)
                              {
                                      *(a) = CODE[*(b + 2)];
                                      *(a - 1) = CODE[*(b + 3)];
                                      *(a - 2) = CODE[*(b + 4)];
                                      //*(a - 3) = CODE[*(b + 4)];   //¸öÎ»
                                      switch (*(b + 5) & 0x0f)//ÏÔÊ¾ºô½ÐÀàÐÍ
                                      {
                                      case 2:
                                              *(a - 3) |= CODE[0X0B];
                                              break;//7¼ü
                                      case 3:
                                              *(a - 3) |= CODE[0X0E];
                                              break;//78¼ü
                                      case 4:
                                              *(a - 3) |= CODE[0X0D];
                                              break;//6¼ü
                                      case 7:
                                              *(a - 3) |= CODE[0X0A];
                                              break;//678¼ü
                                      case 8:
                                              *(a - 3) |= CODE[0x0C];
                                              break;//5¼ü
                                      default:break;
                                      }
                                      
                              }
                      else
                              {
                                      *(a) = CODE[*(b + 2)];
                                      *(a - 1) = CODE[*(b + 3)];
                                      *(a - 2) = CODE[*(b + 4)];  //¸öÎ»
              
                                      switch (*(b + 5) & 0x0f)//ÏÔÊ¾ºô½ÐÀàÐÍ
                                      {
                                      case 2:
                                              *(a - 2) |= 0x80;
                                              *(a - 1) |= 0x80;
              
                                              break;//7¼ü
                                      case 3:
                                              *(a - 0) |= 0x80;
                                              *(a - 2) |= 0x80;
                                              *(a - 1) |= 0x80;
                                              *(a) |= 0x80;
                                              break;//78¼ü
                                      case 4:
                                              *(a - 0) |= 0x80;
                                              *(a - 2) |= 0x80;
                                              *(a - 1) |= 0x80;
                                              break;//6¼ü
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 10  

                                      case 7:
                                              *(a - 1) |= 0x80;
                                              break;//678¼ü
                                      case 8:
                                              *(a - 2) |= 0x80;
                                              break;//5¼ü
                                      default:break;
                                      }
                              }
              #endif
 557   1      #ifdef OLD_FUNTION
 558   1              *(a) = CODE[*(b + 1)];
 559   1              *(a - 1) = CODE[*(b + 2)];
 560   1              *(a - 2) = CODE[*(b + 3)];
 561   1              *(a - 3) = CODE[*(b + 4)];
 562   1      
 563   1              switch (*(b + 5) & 0x0f)//ÏÔÊ¾ºô½ÐÀàÐÍ
 564   1              {
 565   2              case 2:
 566   2                      *(a - 3) |= 0x80;
 567   2                      *(a - 2) |= 0x80;
 568   2      
 569   2                      break;//7¼ü
 570   2              case 3:
 571   2                      *(a - 3) |= 0x80;
 572   2                      *(a - 2) |= 0x80;
 573   2                      *(a - 1) |= 0x80;
 574   2                      *(a) |= 0x80;
 575   2                      break;//78¼ü
 576   2              case 4:
 577   2                      *(a - 3) |= 0x80;
 578   2                      *(a - 2) |= 0x80;
 579   2                      *(a - 1) |= 0x80;
 580   2                      break;//6¼ü
 581   2              case 7:
 582   2                      *(a - 2) |= 0x80;
 583   2                      break;//678¼ü
 584   2              case 8:
 585   2                      *(a - 3) |= 0x80;
 586   2                      break;//5¼ü
 587   2              default:break;
 588   2              }
 589   1      #endif
 590   1      
 591   1      }
 592          
 593          void decoder_temp_to_mcuram(unsigned char* a, unsigned char* index)//aÎªMCU»º´æÇø   indexÎª½âÂëºóÈ¡³öµÄ8×Ö
             -½ÚÁÙÊ±Êý×é
 594          {
 595   1              *(a + 0) = *(index);
 596   1              *(a + 1) = *(index + 1);
 597   1              *(a + 2) = *(index + 2);
 598   1              *(a + 3) = *(index + 3);
 599   1              *(a + 4) = *(index + 4);
 600   1              *(a + 5) = *(index + 7);//±£´æ°´¼üµÄ¼üÖµ
 601   1      }
 602          
 603          void mcuram_to_mcuram_down(unsigned char* a) //aÎªMCURAM»º´æÇøÇø   ÏòÏÂÑ¹Ò»×éÊý¾Ý
 604          {
 605   1              *(a + 8) = *(a);                //ramÇøÔªËØÏÂÒÆ6¸ö
 606   1              *(a + 9) = *(a + 1);
 607   1              *(a + 10) = *(a + 2);
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 11  

 608   1              *(a + 11) = *(a + 3);
 609   1              *(a + 12) = *(a + 4);
 610   1              *(a + 13) = *(a + 5);
 611   1      
 612   1      }
 613          
 614          void mcuram_to_mcuram_up(unsigned char* a) //aÎªMCURAM»º´æÇøÇø   ÏòÉÏÑ¹Ò»×éÊý¾Ý
 615          {
 616   1              *(a) = *(a + 8);   //ramÇøÔªËØÉÏÒÆ6¸ö
 617   1              *(a + 1) = *(a + 9);
 618   1              *(a + 2) = *(a + 10);
 619   1              *(a + 3) = *(a + 11);
 620   1              *(a + 4) = *(a + 12);
 621   1              *(a + 5) = *(a + 13);
 622   1      }
 623          
 624          void CycleProcess(void)
 625          {
 626   1              unsigned char i, index;
 627   1              unsigned char f5_xunhuan, f4_xiaohao, logout_cycle_table_temp;
 628   1              unsigned char temp[8] = { 0 };
 629   1              unsigned char Two_Menu_F6_E3_temp = 0;
 630   1              unsigned char Two_Menu_F6_E1_temp = 0;
 631   1      
 632   1              Two_Menu_F6_E3_temp = return_Two_Menu_F6_E3();
 633   1              Two_Menu_F6_E1_temp = return_Two_Menu_F6_E1();
 634   1      
 635   1              f5_xunhuan = return_Two_Menu_F5_E1();
 636   1              f4_xiaohao = return_Two_Menu_F4_E1();
 637   1              logout_cycle_table_temp = return_logout_cycle_table();
 638   1              /*Ñ­»·´¦Àíº¯Êý*/
 639   1              if ((f5_xunhuan<f4_xiaohao && logout_cycle_table_temp>f5_xunhuan && f4_xiaohao && f5_xunhuan) || (f4_xiao
             -hao == 0 && f5_xunhuan &&logout_cycle_table_temp>f5_xunhuan))
 640   1              {
 641   2                      for (i = 0; i<10; i++)
 642   2                      {
 643   3                              if (display_ram[i<<3] == 0)
 644   3                              {
 645   4                                      index = i;
 646   4                                      break;
 647   4                              }
 648   3                      }
 649   2      
 650   2                      for (i = 0; i<6; i++)
 651   2                      {
 652   3                              temp[i] = display_ram[((index - 1)<<3) + i];
 653   3                      }
 654   2      
 655   2                      for (i = index; i>1; i--)
 656   2                      {
 657   3                              mcuram_to_mcuram_down(display_ram + ((i - 2)<<3));
 658   3                      }
 659   2                      for (i = 0; i<6; i++)
 660   2                      {
 661   3                              display_ram[i] = temp[i];
 662   3                      }
 663   2                      tm1629_load();
 664   2                      display();
 665   2                      set_logout_cycle_table(0);
 666   2                      if (Two_Menu_F6_E3_temp == 1)
 667   2                      {
 668   3                                      submenuf6_1(Two_Menu_F6_E1_temp, display_ram, display_ram[0], display_ram[5] & 0x0f);
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 12  

 669   3                      }
 670   2              }
 671   1      }
 672          
 673          void LogoutProcess(void)
 674          {
 675   1              unsigned int i;
 676   1              unsigned char f5_xunhuan, f4_xiaohao, logout_cycle_table_temp, Two_Menu_F3_E2_temp, Two_Menu_F3_E1_temp;
 677   1              unsigned char Two_Menu_F6_E1_temp = 0;
 678   1              unsigned char Two_Menu_F6_E2_temp = 0;
 679   1      
 680   1              f5_xunhuan = return_Two_Menu_F5_E1();
 681   1              f4_xiaohao = return_Two_Menu_F4_E1();
 682   1              logout_cycle_table_temp = return_logout_cycle_table();
 683   1              Two_Menu_F3_E2_temp = return_Two_Menu_F3_E2();
 684   1              Two_Menu_F3_E1_temp = return_Two_Menu_F3_E1();
 685   1              Two_Menu_F6_E2_temp = return_Two_Menu_F6_E2();
 686   1              /*ÏúºÅ´¦Àíº¯Êý*/
 687   1              if ((f4_xiaohao<f5_xunhuan&& logout_cycle_table_temp>f4_xiaohao && f5_xunhuan && f4_xiaohao) || (f5_xunhu
             -an == 0 && f4_xiaohao && logout_cycle_table_temp>f4_xiaohao))
 688   1              {
 689   2                      for (i = 0; i<(Two_Menu_F3_E2_temp - 1); i++)
 690   2                      {
 691   3                              mcuram_to_mcuram_up(display_ram + (i<<3));
 692   3                      }
 693   2                      for (i = ((Two_Menu_F3_E2_temp - 1)<<3); i<(Two_Menu_F3_E2_temp<<3); i++)
 694   2                      {
 695   3                              display_ram[i] = 0;
 696   3                      }
 697   2                      tm1629_load();
 698   2                      display();
 699   2                      set_logout_cycle_table(0);
 700   2                      if (display_ram[0] == 0)
 701   2                      {
 702   3                              set_func_index(MENU_STANDBY);
 703   3                      }
 704   2                      else if (Two_Menu_F3_E1_temp == 2)
 705   2                      {
 706   3      //#ifndef AWAIT_VOICE_PATCH
 707   3      #ifdef REPLAY_PATCH/*sjz add 2015 11 30*/
 708   3      //                          repeat_times = Two_Menu_F6_E2_temp;//·µ»ØËùÐèÒªµÄÍâ²¿±äÁ¿
 709   3                                if(Two_Menu_F6_E2_temp > 1)  /*repeat mode*/
 710   3                               {repeat_times = Two_Menu_F6_E2_temp;//·µ»ØËùÐèÒªµÄÍâ²¿±äÁ¿
 711   4                                rep_saved_parameter_when_dec.call_type = display_ram[0];
 712   4                                rep_saved_parameter_when_dec.key_value =display_ram[5] & 0x0f;
 713   4                                rep_saved_parameter_when_dec.report_mode= Two_Menu_F6_E1_temp;
 714   4                                for(i = 0; i < 8;i++)
 715   4                                {
 716   5                                     rep_saved_parameter_when_dec.report_number[i]=*(display_ram+i);
 717   5                                }
 718   4                               }
 719   3                               else   /*single play mode*/
 720   3                               {
 721   4                                   submenuf6_1(Two_Menu_F6_E1_temp, display_ram, display_ram[0], display_ram[5] 
             -& 0x0f); 
 722   4                               }
 723   3      /*sjz add end*/
 724   3      #else
                                      for (i = 0; i < Two_Menu_F6_E2_temp; i++)
                                      {
                                              submenuf6_1(Two_Menu_F6_E1_temp, display_ram, display_ram[0], display_ram[5] & 0x0f);
                                      }
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 13  

              #endif
 730   3      //#endif
 731   3                      }
 732   2              }
 733   1      }
 734          
 735          
 736          
 737          
 738          
 739          void Logout(void)
 740          {
 741   1              unsigned int i;
 742   1              unsigned char Two_Menu_F3_E2_temp= 0;
 743   1              Two_Menu_F3_E2_temp = return_Two_Menu_F3_E2();
 744   1              /*ÏúºÅ´¦Àíº¯Êý*/
 745   1              for (i = 0; i<(Two_Menu_F3_E2_temp - 1); i++)
 746   1              {
 747   2                      mcuram_to_mcuram_up(display_ram + (i<<3));
 748   2              }
 749   1              for (i = ((Two_Menu_F3_E2_temp - 1) <<3); i<(Two_Menu_F3_E2_temp<<3); i++)
 750   1              {
 751   2                      display_ram[i] = 0;
 752   2              }
 753   1              decoder_num--;
 754   1              tm1629_load();
 755   1              display();
 756   1              if (display_ram[0] == 0)
 757   1              {
 758   2                      set_func_index(MENU_STANDBY);
 759   2              }
 760   1      }
 761          
 762          void CycleUp(void)
 763          {
 764   1              unsigned char i, index, Two_Menu_F3_E2_temp;
 765   1              unsigned char temp[6] = { 0 };
 766   1              index = return_Two_Menu_F3_E2();
 767   1              Two_Menu_F3_E2_temp = return_Two_Menu_F3_E2();
 768   1              /*Ñ­»·´¦Àíº¯Êý*/
 769   1              for (i = 0; i<Two_Menu_F3_E2_temp; i++)
 770   1              {
 771   2                      if (display_ram[i<<3] == 0)
 772   2                      {
 773   3                              index = i;
 774   3                              break;
 775   3                      }
 776   2              }
 777   1              for (i = 0; i<6; i++)
 778   1              {
 779   2                      temp[i] = display_ram[i];
 780   2              }
 781   1              for (i = 0; i<index; i++)
 782   1              {
 783   2                      mcuram_to_mcuram_up(display_ram + (i<<3));
 784   2              }
 785   1              for (i = 0; i<6; i++)
 786   1              {
 787   2                      display_ram[((index - 1)<<3) + i] = temp[i];
 788   2              }
 789   1              tm1629_load();
 790   1              display();
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 14  

 791   1      }
 792          
 793          void CycleDown(void)
 794          {
 795   1              unsigned char i, index, Two_Menu_F3_E2_temp;
 796   1              unsigned char temp[6] = { 0 };
 797   1              index = return_Two_Menu_F3_E2();
 798   1              Two_Menu_F3_E2_temp = return_Two_Menu_F3_E2();
 799   1              /*Ñ­»·´¦Àíº¯Êý*/
 800   1              for (i = 0; i<Two_Menu_F3_E2_temp; i++)
 801   1              {
 802   2                      if (display_ram[i<<3] == 0)
 803   2                      {
 804   3                              index = i;
 805   3                              break;
 806   3                      }
 807   2              }
 808   1      
 809   1              for (i = 0; i<6; i++)
 810   1              {
 811   2                      temp[i] = display_ram[((index - 1)<<3) + i];
 812   2              }
 813   1      
 814   1              for (i = index; i>1; i--)
 815   1              {
 816   2                      mcuram_to_mcuram_down(display_ram + ((i - 2)<<3));
 817   2              }
 818   1              for (i = 0; i<6; i++)
 819   1              {
 820   2                      display_ram[i] = temp[i];
 821   2              }
 822   1              tm1629_load();
 823   1              display();
 824   1      }
 825          
 826          void Cancel_funtion(unsigned char* id_number, unsigned char* buff)//id_numberÎª½âÂëµÄtempÊý×é£¬buffÎªÏÔÊ¾»
             -º´æ
 827          {
 828   1              /*
 829   1              id_number  //  ÐòºÅ¡¢½ÓÊÕºÅ*3¡¢ID*3¡¢ÇøºÅ
 830   1              buff    //                ÐòºÅ¡¢Àà±ð¡¢ÇøºÅ¡¢½ÓÊÕºÅ
 831   1              */
 832   1      
 833   1              unsigned int i, index, Two_Menu_F3_E2_temp;
 834   1              unsigned char temp[6] = { 0 };
 835   1              index = return_Two_Menu_F3_E2();
 836   1              Two_Menu_F3_E2_temp = return_Two_Menu_F3_E2();
 837   1      
 838   1              for (i = 0; i<Two_Menu_F3_E2_temp; i++)
 839   1              {
 840   2                      if (*(id_number + 1) == *(buff + (i << 3) + 1) && *(id_number + 2) == *(buff + (i << 3) + 2) && *(id_num
             -ber + 3) == *(buff + (i << 3) + 3) && *(id_number + 4) == *(buff + (i << 3) + 4))
 841   2                      {
 842   3                              decoder_num--;
 843   3                              index = i;
 844   3                              break;
 845   3                      }
 846   2              }
 847   1              if (index == 0)
 848   1              {
 849   2                      GD5800_stop_music();
 850   2      //#ifndef AWAIT_VOICE_PATCH
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 15  

 851   2      #ifdef REPLAY_PATCH
 852   2                      repeat_times = 0;
 853   2      #endif
 854   2      //#endif
 855   2              }
 856   1              for (i = index; i<Two_Menu_F3_E2_temp; i++)
 857   1              {
 858   2                      mcuram_to_mcuram_up(buff + (i << 3));
 859   2              }
 860   1              if (index != Two_Menu_F3_E2_temp)
 861   1              {
 862   2                      for (i = 0; i<6; i++)
 863   2                      {
 864   3                              *(buff + ((Two_Menu_F3_E2_temp - 1)<<3) + i) = 0;
 865   3                      }
 866   2              }
 867   1              if (*(buff) == 0)
 868   1              {
 869   2                      set_func_index(MENU_STANDBY);
 870   2              }
 871   1      }
 872          
 873          /*
 874          if call number is  001. 002, 003,all three number is in call array, now the number 002 is call again, 
 875          then we should move the number 002 to the first position at current array
 876          now the array is changed to 002 001 003
 877          sjz 2015 1221
 878          */
 879          void Search_funtion(unsigned char* id_number, unsigned char* buff)//id_numberÎª½âÂëµÄtempÊý×é£¬buffÎªÏÔÊ¾»
             -º´æ
 880          {
 881   1              /*
 882   1              id_number  //  ÐòºÅ¡¢½ÓÊÕºÅ*3¡¢ID*3¡¢ÇøºÅ
 883   1              buff    //                ÐòºÅ¡¢Àà±ð¡¢ÇøºÅ¡¢½ÓÊÕºÅ
 884   1              */
 885   1      
 886   1              unsigned char i, index, Two_Menu_F3_E2_temp;
 887   1              unsigned char temp[6] = { 0 };
 888   1              index = return_Two_Menu_F3_E2();
 889   1              Two_Menu_F3_E2_temp = return_Two_Menu_F3_E2();
 890   1      
 891   1              for (i = 0; i<Two_Menu_F3_E2_temp; i++)
 892   1              {
 893   2                      if (*(id_number + 1) == *(buff + (i << 3) + 1) && *(id_number + 2) == *(buff + (i << 3) + 2) && *(id_num
             -ber + 3) == *(buff + (i << 3) + 3) && *(id_number + 4) == *(buff + (i << 3) + 4))
 894   2                      {
 895   3                              decoder_num--;
 896   3                              index = i;
 897   3                              break;
 898   3                      }
 899   2              }
 900   1      
 901   1              for (i = index; i<Two_Menu_F3_E2_temp; i++)
 902   1              {
 903   2                      mcuram_to_mcuram_up(buff + (i << 3));
 904   2              }
 905   1              if (index != Two_Menu_F3_E2_temp)
 906   1              {
 907   2                      for (i = 0; i<6; i++)
 908   2                      {
 909   3                              *(buff + ((Two_Menu_F3_E2_temp - 1)<<3) + i) = 0;
 910   3                      }
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 16  

 911   2              }
 912   1      }
 913          
 914          
 915          
 916          void fun0(void) //´ý»úÏÔÊ¾º¯Êý
 917          {
 918   1       #ifdef OLD_FUNTION
 919   1              unsigned char temp = 0;
 920   1              temp = return_Two_Menu_FC_E1();
 921   1              decoder_num = 0;
 922   1              if (temp == 1)
 923   1              {
 924   2                      P55 = 1;
 925   2                      tm1629_await();
 926   2              }
 927   1              else
 928   1              {
 929   2                      Display_time();
 930   2              }
 931   1      #endif
 932   1      #ifdef PRODUCT_6_32INCH
                      tm1629_await();
              #endif
 935   1      
 936   1              if (return_Two_Menu_Fb_E1() == 1)
 937   1              {
 938   2                      tm1629_display_buff_clear();
 939   2              }
 940   1              P17 = 0;
 941   1              
 942   1      }
 943          
 944          void fun1(void) //Ò»¼¶²Ëµ¥F0
 945          {
 946   1              tm1629_f(0x00);
 947   1      }
 948          
 949          void fun2(void) //Ò»¼¶²Ëµ¥F1
 950          {
 951   1              tm1629_f(0x01);
 952   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 953   1              {
 954   2                      GD5800_select_chapter(CUNCHUSHEZHI);
 955   2                      set_sound_table(0);
 956   2              }
 957   1      }
 958          
 959          void fun3(void) //Ò»¼¶²Ëµ¥F2
 960          {
 961   1              tm1629_f(0x02);
 962   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 963   1              {
 964   2                      GD5800_select_chapter_new(SHANGCHUSHEZHI);
 965   2                      set_sound_table(0);
 966   2              }
 967   1      }
 968          
 969          void fun4(void) //Ò»¼¶²Ëµ¥F3
 970          {
 971   1              tm1629_f(0x03);
 972   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 17  

 973   1              {
 974   2                      GD5800_select_chapter_new(XIANSHISHEZHI);
 975   2                      set_sound_table(0);
 976   2              }
 977   1      }
 978          
 979          void fun5(void) //Ò»¼¶²Ëµ¥F4
 980          {
 981   1              tm1629_f(0x04);
 982   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 983   1              {
 984   2                      GD5800_select_chapter_new(XIAOHAOSHEZHI);
 985   2                      set_sound_table(0);
 986   2              }
 987   1      }
 988          
 989          void fun6(void) //Ò»¼¶²Ëµ¥F5
 990          {
 991   1              tm1629_f(0x05);
 992   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
 993   1              {
 994   2                      GD5800_select_chapter_new(XUNHUANSHEZHI);
 995   2                      set_sound_table(0);
 996   2              }
 997   1      }
 998          
 999          void fun7(void) //Ò»¼¶²Ëµ¥F6
1000          {
1001   1              tm1629_f(0x06);
1002   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
1003   1              {
1004   2                      GD5800_select_chapter_new(YUYINSHEZHI);
1005   2                      set_sound_table(0);
1006   2              }
1007   1      }
1008          
1009          void fun8(void) //Ò»¼¶²Ëµ¥F7
1010          {
1011   1              tm1629_f(0x07);
1012   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
1013   1              {
1014   2                      GD5800_select_chapter_new(JIANPANSHEZHI);
1015   2                      set_sound_table(0);
1016   2              }
1017   1      }
1018          
1019          void fun9(void) //Ò»¼¶²Ëµ¥F8
1020          {
1021   1              tm1629_f(0x08);
1022   1              if (return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
1023   1              {
1024   2                      GD5800_select_chapter_new(ANJIANSHEZHI);
1025   2                      set_sound_table(0);
1026   2              }
1027   1      }
1028          
1029          void fun10(void) //Ò»¼¶²Ëµ¥F9
1030          {
1031   1              tm1629_f(0x09);
1032   1              if(return_sound_table() == 1 && return_Two_Menu_F6_E6() == 1)
1033   1              {
1034   2                      GD5800_select_chapter_new(HUIFUSHEZHI);
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 18  

1035   2                      set_sound_table(0);
1036   2              }
1037   1      }
1038          
1039          void fun11(void) //Ò»¼¶²Ëµ¥FA
1040          {
1041   1              tm1629_f(0x0a);
1042   1      }
1043          
1044          void fun12(void) //Ò»¼¶²Ëµ¥Fb
1045          {
1046   1              tm1629_f(0x0b);
1047   1      }
1048          
1049          void fun13(void) //Ò»¼¶²Ëµ¥FC
1050          {
1051   1              tm1629_f(0x0c);
1052   1      }
1053          
1054          void fun14(void) //Ò»¼¶²Ëµ¥Fd
1055          {
1056   1              tm1629_f(0x0d);
1057   1              set_fd_table(0);
1058   1              P55 = 1;
1059   1      }
1060          
1061          void fun15(void) //ÉèÖÃÄê·Ý
1062          {
1063   1                      if (return_await_number_table() == 1)
1064   1                      {
1065   2                              Display_time();
1066   2                              set_await_number_table(2);
1067   2                      }
1068   1                      if (return_await_number_table() == 3)
1069   1                      {
1070   2                              if (return_Two_Menu_F6_E7() == 0)
1071   2                              {
1072   3                                      buf_display[0][7] = 0;
1073   3                                      buf_display[0][6] = 0;
1074   3                                      buf_display[0][5] = 0;
1075   3                                      buf_display[0][4] = 0;
1076   3                              }
1077   2                              else
1078   2                              {
1079   3                                      buf_display[1][3] = 0;
1080   3                                      buf_display[1][2] = 0;
1081   3                                      buf_display[1][1] = 0;
1082   3                                      buf_display[1][0] = 0;
1083   3                              }
1084   2                              display();
1085   2                              set_await_number_table(0);
1086   2                      }
1087   1                      Ds1302_Write_Time();
1088   1      }
1089          
1090          void fun16(void) //ÉèÖÃÔÂ·Ý
1091          {
1092   1              if (return_await_number_table() == 1)
1093   1              {
1094   2                      Display_time();
1095   2                      set_await_number_table(2);
1096   2              }
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 19  

1097   1              if (return_await_number_table() == 3)
1098   1              {
1099   2                      if (return_Two_Menu_F6_E7() == 0)
1100   2                      {
1101   3                              buf_display[1][1] = 0;
1102   3                              buf_display[1][0] = 0;
1103   3                      }
1104   2                      else
1105   2                      {
1106   3                              buf_display[0][7] = 0;
1107   3                              buf_display[0][6] = 0;
1108   3                      }
1109   2                      display();
1110   2                      set_await_number_table(0);
1111   2              }
1112   1              Ds1302_Write_Time();
1113   1      }
1114          
1115          void fun17(void) //ÉèÖÃÈÕÆÚ
1116          {
1117   1              if (return_await_number_table() == 1)
1118   1              {
1119   2                      Display_time();
1120   2                      set_await_number_table(2);
1121   2              }
1122   1              if (return_await_number_table() == 3)
1123   1              {
1124   2                      if (return_Two_Menu_F6_E7() == 0)
1125   2                      {
1126   3                              buf_display[1][3] = 0;
1127   3                              buf_display[1][2] = 0;
1128   3                      }
1129   2                      else
1130   2                      {
1131   3                              buf_display[0][5] = 0;
1132   3                              buf_display[0][4] = 0;
1133   3                      }
1134   2                      display();
1135   2                      set_await_number_table(0);
1136   2              }
1137   1              Ds1302_Write_Time();
1138   1      }
1139          
1140          void fun18(void) //ÉèÖÃÐÇÆÚ
1141          {
1142   1              if (return_await_number_table() == 1)
1143   1              {
1144   2                      Display_time();
1145   2                      set_await_number_table(2);
1146   2              }
1147   1              if (return_await_number_table() == 3)
1148   1              {
1149   2                      buf_display[1][4] = 0;
1150   2                      display();
1151   2                      set_await_number_table(0);
1152   2              }
1153   1              Ds1302_Write_Time();
1154   1      }
1155          
1156          void fun19(void) //ÉèÖÃÐ¡Ê±
1157          {
1158   1              if (return_await_number_table() == 1)
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 20  

1159   1              {
1160   2                      Display_time();
1161   2                      set_await_number_table(2);
1162   2              }
1163   1              if (return_await_number_table() == 3)
1164   1              {
1165   2                      buf_display[0][3] = 0;
1166   2                      buf_display[0][2] = 0;
1167   2                      display();
1168   2                      set_await_number_table(0);
1169   2              }
1170   1              Ds1302_Write_Time();
1171   1      }
1172          
1173          void fun20(void) //ÉèÖÃ·ÖÖÓ
1174          {
1175   1              unsigned char temp;
1176   1              temp = return_Two_Menu_FC_E1();
1177   1              if (temp == 1)//Èç¹ûÎª----  Ôò²»ÈÃ½øÈëF0
1178   1              {
1179   2                      set_func_index(ONE_MENU_F0);
1180   2              }
1181   1              else
1182   1              {
1183   2                      if (return_await_number_table() == 1)
1184   2                      {
1185   3                              Display_time();
1186   3                              set_await_number_table(2);
1187   3                      }
1188   2                      if (return_await_number_table() == 3)
1189   2                      {
1190   3                              buf_display[0][1] = 0;
1191   3                              buf_display[0][0] = 0;
1192   3                              display();
1193   3                              set_await_number_table(0);
1194   3                      }
1195   2                      Ds1302_Write_Time();
1196   2              }
1197   1      }
1198          
1199          void fun21(void) //¶þ¼¶²Ëµ¥F1-E1
1200          {
1201   1              tm1629_E(0x01);
1202   1      #ifdef OLD_FUNTION
1203   1              Two_Menu_F1_E1[0] = 0;
1204   1              Two_Menu_F1_E1[1] = 0;
1205   1              Two_Menu_F1_E1[2] = 0;
1206   1              Two_Menu_F1_E1[3] = 1;
1207   1      #endif
1208   1      #ifdef PRODUCT_6_32INCH
                      Two_Menu_F1_E1[0] = 0;
                      Two_Menu_F1_E1[1] = 0;
                      Two_Menu_F1_E1[2] = 0;
                      Two_Menu_F1_E1[3] = 1;
              #endif
1214   1      }
1215          
1216          void fun22(void) //¶þ¼¶²Ëµ¥F1-E2
1217          {
1218   1              tm1629_E(0x02);
1219   1              Two_Menu_F1_E2[0] = 0;
1220   1              Two_Menu_F1_E2[1] = 0;
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 21  

1221   1              Two_Menu_F1_E2[2] = 0;
1222   1              Two_Menu_F1_E2[3] = 1;
1223   1      }
1224          
1225          void fun23(void) //¶þ¼¶²Ëµ¥F1-E3
1226          {
1227   1              tm1629_E(0x03);
1228   1              Two_Menu_F1_E3[0] = 0;
1229   1              Two_Menu_F1_E3[1] = 0;
1230   1              Two_Menu_F1_E3[2] = 0;
1231   1              Two_Menu_F1_E3[3] = 1;
1232   1      }
1233          
1234          void fun24(void) //¶þ¼¶²Ëµ¥F1-E4
1235          {
1236   1              tm1629_E(0x04);
1237   1              Two_Menu_F1_E4[0] = 0;
1238   1              Two_Menu_F1_E4[1] = 0;
1239   1              Two_Menu_F1_E4[2] = 0;
1240   1              Two_Menu_F1_E4[3] = 1;
1241   1      }
1242          
1243          void fun25(void) //¶þ¼¶²Ëµ¥F2-E1
1244          {
1245   1              tm1629_E(0x01);
1246   1              Two_Menu_F2_E1[0] = 0;
1247   1              Two_Menu_F2_E1[1] = 0;
1248   1              Two_Menu_F2_E1[2] = 0;
1249   1              Two_Menu_F2_E1[3] = 1;
1250   1      }
1251          
1252          void fun26(void) //¶þ¼¶²Ëµ¥F2-E2
1253          {
1254   1              tm1629_E(0x02);
1255   1              Two_Menu_F2_E2[0] = 0;
1256   1              Two_Menu_F2_E2[1] = 0;
1257   1              Two_Menu_F2_E2[2] = 0;
1258   1              Two_Menu_F2_E2[3] = 1;
1259   1      }
1260          
1261          void fun27(void) //¶þ¼¶²Ëµ¥F2-E3
1262          {
1263   1              tm1629_E(0x03);
1264   1              Two_Menu_F2_E3[0] = 0;
1265   1              Two_Menu_F2_E3[1] = 0;
1266   1              Two_Menu_F2_E3[2] = 0;
1267   1              Two_Menu_F2_E3[3] = 1;
1268   1      }
1269          
1270          void fun28(void) //¶þ¼¶²Ëµ¥F2-E4
1271          {
1272   1              tm1629_E(0x04);
1273   1              Two_Menu_F2_E4[0] = 0;
1274   1              Two_Menu_F2_E4[1] = 0;
1275   1              Two_Menu_F2_E4[2] = 0;
1276   1              Two_Menu_F2_E4[3] = 1;
1277   1      }
1278          
1279          void fun29(void) //¶þ¼¶²Ëµ¥F3-E1
1280          {
1281   1              tm1629_E(0x01);
1282   1      }
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 22  

1283          
1284          void fun30(void) //¶þ¼¶²Ëµ¥F3-E2
1285          {
1286   1              tm1629_E(0x02);
1287   1      }
1288          
1289          void fun31(void) //¶þ¼¶²Ëµ¥F4
1290          {
1291   1              unsigned char temp = 0;
1292   1              temp = return_Two_Menu_F4_E1();
1293   1              Show_two_number(temp);
1294   1      }
1295          
1296          void fun32(void) //¶þ¼¶²Ëµ¥F5
1297          {
1298   1              unsigned char temp = 0;
1299   1              temp = return_Two_Menu_F5_E1();
1300   1              Show_two_number(temp);
1301   1      }
1302          
1303          void fun33(void) //¶þ¼¶²Ëµ¥F6-E1
1304          {
1305   1              tm1629_E(0x01);
1306   1      }
1307          
1308          void fun34(void) //¶þ¼¶²Ëµ¥F6-E2
1309          {
1310   1              tm1629_E(0x02);
1311   1      }
1312          
1313          void fun35(void) //¶þ¼¶²Ëµ¥F6-E3
1314          {
1315   1              tm1629_E(0x03);
1316   1      }
1317          
1318          void fun36(void) //¶þ¼¶²Ëµ¥F6-E4
1319          {
1320   1              tm1629_E(0x04);
1321   1      }
1322          
1323          void fun37(void) //¶þ¼¶²Ëµ¥F6-E5
1324          {
1325   1              tm1629_E(0x05);
1326   1      }
1327          
1328          void fun38(void) //¶þ¼¶²Ëµ¥F7-E1
1329          {
1330   1              tm1629_E(0x01);
1331   1      }
1332          
1333          void fun39(void) //¶þ¼¶²Ëµ¥F7-E2
1334          {
1335   1              tm1629_E(0x02);
1336   1      }
1337          
1338          void fun40(void) //¶þ¼¶²Ëµ¥F7-E3
1339          {
1340   1              tm1629_E(0x03);
1341   1      }
1342          
1343          void fun41(void) //¶þ¼¶²Ëµ¥F7-E4
1344          {
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 23  

1345   1              tm1629_E(0x04);
1346   1      }
1347          
1348          void fun42(void) //¶þ¼¶²Ëµ¥F8-E1
1349          {
1350   1              tm1629_E(0x01);
1351   1              Two_Menu_F8_E1_save = return_Two_Menu_F8_E1();
1352   1      }
1353          
1354          void fun43(void) //¶þ¼¶²Ëµ¥F8-E2
1355          {
1356   1              tm1629_E(0x02);
1357   1      }
1358          
1359          void fun44(void) //¶þ¼¶²Ëµ¥F9-E1
1360          {
1361   1              tm1629_E(0x01);
1362   1      }
1363          
1364          void fun45(void) //¶þ¼¶²Ëµ¥F9-E2
1365          {
1366   1              tm1629_E(0x02);
1367   1      }
1368          
1369          void fun46(void) //¶þ¼¶²Ëµ¥FA
1370          {
1371   1              unsigned int measure_sync_saved_temp = 0;
1372   1              unsigned int show_temp = 0;
1373   1      
1374   1                      measure_sync_saved_temp = return_RF_trans_count();
1375   1                      show_temp = 10000 / measure_sync_saved_temp;
1376   1                      Show_three_number(show_temp);
1377   1      
1378   1      //              uart_printf("measure_sync_saved_tempÎª %d ! \n\r", measure_sync_saved_temp);
1379   1      //              uart_printf("show_tempÎª %d ! \n\r", show_temp);
1380   1      
1381   1      }
1382          
1383          
1384          void fun47(void) //¶þ¼¶²Ëµ¥Fb
1385          {
1386   1              unsigned char temp = 0;
1387   1              temp = return_Two_Menu_Fb_E1();
1388   1              Show_one_number(temp);
1389   1      }
1390          
1391          void fun48(void) //¶þ¼¶²Ëµ¥FC
1392          {
1393   1              unsigned char temp = 0;
1394   1              temp = return_Two_Menu_FC_E1();
1395   1              Show_one_number(temp);
1396   1      }
1397          
1398          void fun49(void) //¶þ¼¶²Ëµ¥Fd
1399          {
1400   1              unsigned char temp;
1401   1              temp = return_fd_table();
1402   1              if (temp <= 20)
1403   1              {
1404   2                      if (temp < 4)
1405   2                      {
1406   3                              display_light(0xff);
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 24  

1407   3                      }
1408   2                      else if (temp <= 18)
1409   2                      {
1410   3                              display_light(INIT_CODE[temp / 2 - 2]);
1411   3                      }
1412   2                      else
1413   2                      {
1414   3                              display_light(0xff);
1415   3                      }
1416   2                      if (P24 == 1)
1417   2                      {
1418   3                              GD5800_select_chapter(YINGYUEYI);
1419   3                      }
1420   2              }
1421   1              if (temp >20)
1422   1              {
1423   2                      tm1629_clear();
1424   2                      display();
1425   2              }
1426   1              P55 = 0;
1427   1      }
1428          
1429          void fun50(void) //F1_E1 Ç§Î»ÉÁË¸
1430          {
1431   1              if (return_await_number_table() == 1)
1432   1              {
1433   2                      Show_four_number(Two_Menu_F1_E1);
1434   2                      set_await_number_table(2);
1435   2              }
1436   1              if (return_await_number_table() == 3)
1437   1              {
1438   2      #ifdef OLD_FUNTION
1439   2                      buf_display[0][3] = 0;
1440   2      #endif
1441   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][0] = 0;
              #endif
1444   2                      display();
1445   2                      set_await_number_table(0);
1446   2              }
1447   1      }
1448          
1449          void fun51(void) //F1_E1 °ÙÎ»ÉÁË¸
1450          {
1451   1              if (return_await_number_table() == 1)
1452   1              {
1453   2                      Show_four_number(Two_Menu_F1_E1);
1454   2                      set_await_number_table(2);
1455   2              }
1456   1              if (return_await_number_table() == 3)
1457   1              {
1458   2      #ifdef OLD_FUNTION
1459   2                      buf_display[0][2] = 0;
1460   2      #endif
1461   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][3] = 0;
              #endif
1464   2                      display();
1465   2                      set_await_number_table(0);
1466   2              }
1467   1      }
1468          
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 25  

1469          void fun52(void)  //F1_E1 Ê®Î»ÉÁË¸
1470          {
1471   1              if (return_await_number_table() == 1)
1472   1              {
1473   2                      Show_four_number(Two_Menu_F1_E1);
1474   2                      set_await_number_table(2);
1475   2              }
1476   1              if (return_await_number_table() == 3)
1477   1              {
1478   2      #ifdef OLD_FUNTION
1479   2                      buf_display[0][1] = 0;
1480   2      #endif
1481   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][2] = 0;
              #endif
1484   2                      display();
1485   2                      set_await_number_table(0);
1486   2              }
1487   1      }
1488          
1489          void fun53(void) //F1_E1 ¸öÎ»ÉÁË¸
1490          {
1491   1              if (return_await_number_table() == 1)
1492   1              {
1493   2                      Show_four_number(Two_Menu_F1_E1);
1494   2                      set_await_number_table(2);
1495   2              }
1496   1              if (return_await_number_table() == 3)
1497   1              {
1498   2      #ifdef OLD_FUNTION
1499   2                      buf_display[0][0] = 0;
1500   2      #endif
1501   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][1] = 0;
              #endif
1504   2                      display();
1505   2                      set_await_number_table(0);
1506   2              }
1507   1      }
1508          
1509          void fun54(void) //F1_E2 Ç§Î»ÉÁË¸
1510          {
1511   1              if (return_await_number_table() == 1)
1512   1              {
1513   2                      Show_four_number(Two_Menu_F1_E2);
1514   2                      set_await_number_table(2);
1515   2              }
1516   1              if (return_await_number_table() == 3)
1517   1              {
1518   2      #ifdef OLD_FUNTION
1519   2                      buf_display[0][3] = 0;
1520   2      #endif
1521   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][0] = 0;
              #endif
1524   2                      display();
1525   2                      set_await_number_table(0);
1526   2              }
1527   1      }
1528          
1529          void fun55(void) //F1_E2 °ÙÎ»ÉÁË¸
1530          {
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 26  

1531   1              if (return_await_number_table() == 1)
1532   1              {
1533   2                      Show_four_number(Two_Menu_F1_E2);
1534   2                      set_await_number_table(2);
1535   2              }
1536   1              if (return_await_number_table() == 3)
1537   1              {
1538   2      #ifdef OLD_FUNTION
1539   2                      buf_display[0][2] = 0;
1540   2      #endif
1541   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][3] = 0;
              #endif
1544   2                      display();
1545   2                      set_await_number_table(0);
1546   2              }
1547   1      }
1548          
1549          void fun56(void) //F1_E2 Ê®Î»ÉÁË¸
1550          {
1551   1              if (return_await_number_table() == 1)
1552   1              {
1553   2                      Show_four_number(Two_Menu_F1_E2);
1554   2                      set_await_number_table(2);
1555   2              }
1556   1              if (return_await_number_table() == 3)
1557   1              {
1558   2      #ifdef OLD_FUNTION
1559   2                      buf_display[0][1] = 0;
1560   2      #endif
1561   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][2] = 0;
              #endif
1564   2                      display();
1565   2                      set_await_number_table(0);
1566   2              }
1567   1      }
1568          
1569          void fun57(void) //F1_E2 ¸öÎ»ÉÁË¸
1570          {
1571   1              if (return_await_number_table() == 1)
1572   1              {
1573   2                      Show_four_number(Two_Menu_F1_E2);
1574   2                      set_await_number_table(2);
1575   2              }
1576   1              if (return_await_number_table() == 3)
1577   1              {
1578   2      #ifdef OLD_FUNTION
1579   2                      buf_display[0][0] = 0;
1580   2      #endif
1581   2      
1582   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][1] = 0;
              #endif  
1585   2                      display();
1586   2                      set_await_number_table(0);
1587   2              }
1588   1      }
1589          
1590          void fun58(void) //F1_E3 Ç§Î»ÉÁË¸
1591          {
1592   1              if (return_await_number_table() == 1)
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 27  

1593   1              {
1594   2                      Show_four_number(Two_Menu_F1_E3);
1595   2                      set_await_number_table(2);
1596   2              }
1597   1              if (return_await_number_table() == 3)
1598   1              {
1599   2      #ifdef OLD_FUNTION
1600   2                      buf_display[0][3] = 0;
1601   2      #endif
1602   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][0] = 0;
              #endif          
1605   2                      display();
1606   2                      set_await_number_table(0);
1607   2              }
1608   1      }
1609          
1610          void fun59(void) //F1_E3 °ÙÎ»ÉÁË¸
1611          {
1612   1              if (return_await_number_table() == 1)
1613   1              {
1614   2                      Show_four_number(Two_Menu_F1_E3);
1615   2                      set_await_number_table(2);
1616   2              }
1617   1              if (return_await_number_table() == 3)
1618   1              {
1619   2      #ifdef OLD_FUNTION
1620   2                      buf_display[0][2] = 0;
1621   2      #endif
1622   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][3] = 0;
              #endif
1625   2                      display();
1626   2                      set_await_number_table(0);
1627   2              }
1628   1      }
1629          
1630          void fun60(void) //F1_E3 Ê®Î»ÉÁË¸
1631          {
1632   1              if (return_await_number_table() == 1)
1633   1              {
1634   2                      Show_four_number(Two_Menu_F1_E3);
1635   2                      set_await_number_table(2);
1636   2              }
1637   1              if (return_await_number_table() == 3)
1638   1              {
1639   2      #ifdef OLD_FUNTION
1640   2                      buf_display[0][1] = 0;
1641   2      #endif
1642   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][2] = 0;
              #endif
1645   2                      display();
1646   2                      set_await_number_table(0);
1647   2              }
1648   1      }
1649          
1650          void fun61(void) //F1_E3 ¸öÎ»ÉÁË¸
1651          {
1652   1              if (return_await_number_table() == 1)
1653   1              {
1654   2                      Show_four_number(Two_Menu_F1_E3);
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 28  

1655   2                      set_await_number_table(2);
1656   2              }
1657   1              if (return_await_number_table() == 3)
1658   1              {
1659   2      #ifdef OLD_FUNTION
1660   2                      buf_display[0][0] = 0;
1661   2      #endif
1662   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][1] = 0;
              #endif          
1665   2                      display();
1666   2                      set_await_number_table(0);
1667   2              }
1668   1      }
1669          
1670          void fun62(void) //F1_E4 Ç§Î»ÉÁË¸
1671          {
1672   1              if (return_await_number_table() == 1)
1673   1              {
1674   2                      Show_four_number(Two_Menu_F1_E4);
1675   2                      set_await_number_table(2);
1676   2              }
1677   1              if (return_await_number_table() == 3)
1678   1              {
1679   2      #ifdef OLD_FUNTION
1680   2                      buf_display[0][3] = 0;
1681   2      #endif
1682   2      
1683   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][0] = 0;
              #endif  
1686   2              display();
1687   2                      set_await_number_table(0);
1688   2              }
1689   1      }
1690          
1691          void fun63(void) //F1_E4 °ÙÎ»ÉÁË¸
1692          {
1693   1              if (return_await_number_table() == 1)
1694   1              {
1695   2                      Show_four_number(Two_Menu_F1_E4);
1696   2                      set_await_number_table(2);
1697   2              }
1698   1              if (return_await_number_table() == 3)
1699   1              {
1700   2      #ifdef OLD_FUNTION
1701   2                      buf_display[0][2] = 0;
1702   2      #endif
1703   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][3] = 0;
              #endif
1706   2                      display();
1707   2                      set_await_number_table(0);
1708   2              }
1709   1      }
1710          
1711          void fun64(void) //F1_E4 Ê®Î»ÉÁË¸
1712          {
1713   1              if (return_await_number_table() == 1)
1714   1              {
1715   2                      Show_four_number(Two_Menu_F1_E4);
1716   2                      set_await_number_table(2);
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 29  

1717   2              }
1718   1              if (return_await_number_table() == 3)
1719   1              {
1720   2      #ifdef OLD_FUNTION
1721   2                      buf_display[0][1] = 0;
1722   2      #endif
1723   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][2] = 0;
              #endif
1726   2                      display();
1727   2                      set_await_number_table(0);
1728   2              }
1729   1      }
1730          
1731          void fun65(void) //F1_E4 ¸öÎ»ÉÁË¸
1732          {
1733   1              if (return_await_number_table() == 1)
1734   1              {
1735   2                      Show_four_number(Two_Menu_F1_E4);
1736   2                      set_await_number_table(2);
1737   2              }
1738   1              if (return_await_number_table() == 3)
1739   1              {
1740   2      #ifdef OLD_FUNTION
1741   2                      buf_display[0][0] = 0;
1742   2      #endif
1743   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][1] = 0;
              #endif  
1746   2              display();
1747   2                      set_await_number_table(0);
1748   2              }
1749   1      }
1750          
1751          void fun66(void) //F2_E1 Ç§Î»ÉÁË¸
1752          {
1753   1              if (return_await_number_table() == 1)
1754   1              {
1755   2                      Show_four_number(Two_Menu_F2_E1);
1756   2                      set_await_number_table(2);
1757   2              }
1758   1              if (return_await_number_table() == 3)
1759   1              {
1760   2      #ifdef OLD_FUNTION
1761   2                      buf_display[0][3] = 0;
1762   2      #endif
1763   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][0] = 0;
              #endif
1766   2                      display();
1767   2                      set_await_number_table(0);
1768   2              }
1769   1      }
1770          
1771          void fun67(void) //F2_E1 °ÙÎ»ÉÁË¸
1772          {
1773   1              if (return_await_number_table() == 1)
1774   1              {
1775   2                      Show_four_number(Two_Menu_F2_E1);
1776   2                      set_await_number_table(2);
1777   2              }
1778   1              if (return_await_number_table() == 3)
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 30  

1779   1              {
1780   2      #ifdef OLD_FUNTION
1781   2                      buf_display[0][2] = 0;
1782   2      #endif
1783   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][3] = 0;
              #endif
1786   2                      display();
1787   2                      set_await_number_table(0);
1788   2              }
1789   1      }
1790          
1791          void fun68(void) //F2_E1 Ê®Î»ÉÁË¸
1792          {
1793   1              if (return_await_number_table() == 1)
1794   1              {
1795   2                      Show_four_number(Two_Menu_F2_E1);
1796   2                      set_await_number_table(2);
1797   2              }
1798   1              if (return_await_number_table() == 3)
1799   1              {
1800   2      #ifdef OLD_FUNTION
1801   2                      buf_display[0][1] = 0;
1802   2      #endif
1803   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][2] = 0;
              #endif
1806   2                      display();
1807   2                      set_await_number_table(0);
1808   2              }
1809   1      }
1810          
1811          void fun69(void) //F2_E1 ¸öÎ»ÉÁË¸
1812          {
1813   1              if (return_await_number_table() == 1)
1814   1              {
1815   2                      Show_four_number(Two_Menu_F2_E1);
1816   2                      set_await_number_table(2);
1817   2              }
1818   1              if (return_await_number_table() == 3)
1819   1              {
1820   2      #ifdef OLD_FUNTION
1821   2                      buf_display[0][0] = 0;
1822   2      #endif
1823   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][1] = 0;
              #endif          
1826   2      display();
1827   2                      set_await_number_table(0);
1828   2              }
1829   1      }
1830          
1831          void fun70(void) //F2_E2 Ç§Î»ÉÁË¸
1832          {
1833   1              if (return_await_number_table() == 1)
1834   1              {
1835   2                      Show_four_number(Two_Menu_F2_E2);
1836   2                      set_await_number_table(2);
1837   2              }
1838   1              if (return_await_number_table() == 3)
1839   1              {
1840   2      #ifdef OLD_FUNTION
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 31  

1841   2                      buf_display[0][3] = 0;
1842   2      #endif
1843   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][0] = 0;
              #endif
1846   2                      display();
1847   2                      set_await_number_table(0);
1848   2              }
1849   1      }
1850          
1851          void fun71(void) //F2_E2 °ÙÎ»ÉÁË¸
1852          {
1853   1              if (return_await_number_table() == 1)
1854   1              {
1855   2                      Show_four_number(Two_Menu_F2_E2);
1856   2                      set_await_number_table(2);
1857   2              }
1858   1              if (return_await_number_table() == 3)
1859   1              {
1860   2      #ifdef OLD_FUNTION
1861   2                      buf_display[0][2] = 0;
1862   2      #endif
1863   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][3] = 0;
              #endif
1866   2                      display();
1867   2                      set_await_number_table(0);
1868   2              }
1869   1      }
1870          
1871          void fun72(void) //F2_E2 Ê®Î»ÉÁË¸
1872          {
1873   1              if (return_await_number_table() == 1)
1874   1              {
1875   2                      Show_four_number(Two_Menu_F2_E2);
1876   2                      set_await_number_table(2);
1877   2              }
1878   1              if (return_await_number_table() == 3)
1879   1              {
1880   2      #ifdef OLD_FUNTION
1881   2                      buf_display[0][1] = 0;
1882   2      #endif
1883   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][2] = 0;
              #endif
1886   2                      display();
1887   2                      set_await_number_table(0);
1888   2              }
1889   1      }
1890          
1891          void fun73(void) //F2_E2 ¸öÎ»ÉÁË¸
1892          {
1893   1              if (return_await_number_table() == 1)
1894   1              {
1895   2                      Show_four_number(Two_Menu_F2_E2);
1896   2                      set_await_number_table(2);
1897   2              }
1898   1              if (return_await_number_table() == 3)
1899   1              {
1900   2      #ifdef OLD_FUNTION
1901   2                      buf_display[0][0] = 0;
1902   2      #endif
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 32  

1903   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][1] = 0;
              #endif  
1906   2              display();
1907   2                      set_await_number_table(0);
1908   2              }
1909   1      }
1910          
1911          void fun74(void) //F2_E3 Ç§Î»ÉÁË¸
1912          {
1913   1              if (return_await_number_table() == 1)
1914   1              {
1915   2                      Show_four_number(Two_Menu_F2_E3);
1916   2                      set_await_number_table(2);
1917   2              }
1918   1              if (return_await_number_table() == 3)
1919   1              {
1920   2      #ifdef OLD_FUNTION
1921   2                      buf_display[0][3] = 0;
1922   2      #endif
1923   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][0] = 0;
              #endif  
1926   2                      display();
1927   2                      set_await_number_table(0);
1928   2              }
1929   1      }
1930          
1931          void fun75(void) //F2_E3 °ÙÎ»ÉÁË¸
1932          {
1933   1              if (return_await_number_table() == 1)
1934   1              {
1935   2                      Show_four_number(Two_Menu_F2_E3);
1936   2                      set_await_number_table(2);
1937   2              }
1938   1              if (return_await_number_table() == 3)
1939   1              {
1940   2      #ifdef OLD_FUNTION
1941   2                      buf_display[0][2] = 0;
1942   2      #endif
1943   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][3] = 0;
              #endif  
1946   2              display();
1947   2                      set_await_number_table(0);
1948   2              }
1949   1      }
1950          
1951          void fun76(void) //F2_E3 Ê®Î»ÉÁË¸
1952          {
1953   1              if (return_await_number_table() == 1)
1954   1              {
1955   2                      Show_four_number(Two_Menu_F2_E3);
1956   2                      set_await_number_table(2);
1957   2              }
1958   1              if (return_await_number_table() == 3)
1959   1              {
1960   2      #ifdef OLD_FUNTION
1961   2                      buf_display[0][1] = 0;
1962   2      #endif
1963   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][2] = 0;
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 33  

              #endif
1966   2                      display();
1967   2                      set_await_number_table(0);
1968   2              }
1969   1      }
1970          
1971          void fun77(void) //F2_E3 ¸öÎ»ÉÁË¸
1972          {
1973   1              if (return_await_number_table() == 1)
1974   1              {
1975   2                      Show_four_number(Two_Menu_F2_E3);
1976   2                      set_await_number_table(2);
1977   2              }
1978   1              if (return_await_number_table() == 3)
1979   1              {
1980   2      #ifdef OLD_FUNTION
1981   2                      buf_display[0][0] = 0;
1982   2      #endif
1983   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][1] = 0;
              #endif
1986   2                      display();
1987   2                      set_await_number_table(0);
1988   2              }
1989   1      }
1990          
1991          void fun78(void) //F2_E4 Ç§Î»ÉÁË¸
1992          {
1993   1              if (return_await_number_table() == 1)
1994   1              {
1995   2                      Show_four_number(Two_Menu_F2_E4);
1996   2                      set_await_number_table(2);
1997   2              }
1998   1              if (return_await_number_table() == 3)
1999   1              {
2000   2      #ifdef OLD_FUNTION
2001   2                      buf_display[0][3] = 0;
2002   2      #endif
2003   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][0] = 0;
              #endif
2006   2                      display();
2007   2                      set_await_number_table(0);
2008   2              }
2009   1      }
2010          
2011          void fun79(void) //F2_E4 °ÙÎ»ÉÁË¸
2012          {
2013   1              if (return_await_number_table() == 1)
2014   1              {
2015   2                      Show_four_number(Two_Menu_F2_E4);
2016   2                      set_await_number_table(2);
2017   2              }
2018   1              if (return_await_number_table() == 3)
2019   1              {
2020   2      #ifdef OLD_FUNTION
2021   2                      buf_display[0][2] = 0;
2022   2      #endif
2023   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][3] = 0;
              #endif
2026   2                      display();
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 34  

2027   2                      set_await_number_table(0);
2028   2              }
2029   1      }
2030          
2031          void fun80(void) //F2_E4 Ê®Î»ÉÁË¸
2032          {
2033   1              if (return_await_number_table() == 1)
2034   1              {
2035   2      
2036   2                      Show_four_number(Two_Menu_F2_E4);
2037   2                      set_await_number_table(2);
2038   2              }
2039   1              if (return_await_number_table() == 3)
2040   1              {
2041   2      #ifdef OLD_FUNTION
2042   2                      buf_display[0][1] = 0;
2043   2      #endif
2044   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][2] = 0;
              #endif
2047   2                      display();
2048   2                      set_await_number_table(0);
2049   2              }
2050   1      }
2051          
2052          void fun81(void) //F2_E4 ¸öÎ»ÉÁË¸
2053          {
2054   1              if (return_await_number_table() == 1)
2055   1              {
2056   2                      Show_four_number(Two_Menu_F2_E4);
2057   2                      set_await_number_table(2);
2058   2              }
2059   1              if (return_await_number_table() == 3)
2060   1              {
2061   2      #ifdef OLD_FUNTION
2062   2                      buf_display[0][0] = 0;
2063   2      #endif
2064   2      #ifdef PRODUCT_6_32INCH
                              buf_display[0][1] = 0;
              #endif
2067   2                      display();
2068   2                      set_await_number_table(0);
2069   2              }
2070   1      }
2071          
2072          void fun82(void) //ÏÔÊ¾¼´Ê±ÏÔÊ¾ »¹ÊÇÑ­»·ÏÔÊ¾
2073          {
2074   1              unsigned char temp=0;
2075   1              temp = return_Two_Menu_F3_E1();
2076   1              Show_one_number(temp);
2077   1      }
2078          
2079          void fun83(void) //¶ÓÁÐ´æ´¢¸öÊý
2080          {
2081   1              unsigned char temp = 0;
2082   1              temp = return_Two_Menu_F3_E2();
2083   1              Show_two_number(temp);
2084   1      }
2085          
2086          void fun84(void) //F6_E1ÓïÒôÑ¡Ôñ
2087          {
2088   1              unsigned char temp = 0;
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 35  

2089   1              temp = return_Two_Menu_F6_E1();
2090   1              Show_one_number(temp);
2091   1      }
2092          
2093          void fun85(void) //F6_E2ÓïÒô±¨¶Á´ÎÊý
2094          {
2095   1              unsigned char temp = 0;
2096   1              temp = return_Two_Menu_F6_E2();
2097   1              Show_one_number(temp);
2098   1      }
2099          
2100          void fun86(void) //F6_E3Ñ­»·Ê±ºòÊÇ·ñ±¨¶Á
2101          {
2102   1              unsigned char temp = 0;
2103   1              temp = return_Two_Menu_F6_E3();
2104   1              Show_one_number(temp);
2105   1      }
2106          
2107          void fun87(void) //F6_E4ÒôÁ¿´óÐ¡µ÷Õû
2108          {
2109   1              unsigned char temp = 0;
2110   1              temp = return_Two_Menu_F6_E4();
2111   1              GD5800_sound_volume(temp * 3);
2112   1              Show_one_number(temp);
2113   1      }
2114          
2115          void fun88(void) //F6_E5ÆÁÄ»ÁÁ¶Èµ÷Õû
2116          {
2117   1              unsigned char temp = 0;
2118   1              temp = return_Two_Menu_F6_E5();
2119   1              Show_one_number(temp);
2120   1      }
2121          
2122          void fun89(void) //F7_E1 999*9
2123          {
2124   1              unsigned char temp = 0;
2125   1              temp = return_Two_Menu_F7_E1();
2126   1              if (temp < 10)
2127   1              {
2128   2                      Show_one_number(temp);
2129   2              }
2130   1              else
2131   1              {
2132   2                      Show_off();
2133   2              }
2134   1      }
2135          
2136          void fun90(void) //F7_E2 9999*9
2137          {
2138   1              unsigned char temp = 0;
2139   1              temp = return_Two_Menu_F7_E2();
2140   1              Show_one_number(temp);
2141   1      }
2142          
2143          void fun91(void) //F7_E3 999*99
2144          {
2145   1              unsigned char temp = 0;
2146   1              temp = return_Two_Menu_F7_E3();
2147   1              Show_one_number(temp);
2148   1      }
2149          
2150          void fun92(void) //F7_E4 9999*99
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 36  

2151          {
2152   1              unsigned char temp = 0;
2153   1              temp = return_Two_Menu_F7_E4();
2154   1              Show_one_number(temp);
2155   1      }
2156          
2157          void fun93(void) //F8_E1µ¥¼üÎ»¸ú¶à¼üÎ»ÇÐ»»
2158          {
2159   1              unsigned char temp = 0;
2160   1              temp = return_Two_Menu_F8_E1();
2161   1              Show_one_number(temp);
2162   1              if (temp != Two_Menu_F8_E1_save)
2163   1              {
2164   2                      Delete_all_data();
2165   2                      Two_Menu_F8_E1_save = temp;
2166   2                      if (return_sound_table() == 1)
2167   2                      {
2168   3                              GD5800_select_chapter(CHENGGONG);
2169   3      
2170   3                              set_sound_table(0);
2171   3                      }
2172   2              }
2173   1      }
2174          
2175          void fun94(void) //F8_E2¼üÎ»ÉèÖÃ
2176          {
2177   1              unsigned char temp = 0;
2178   1              temp = return_Two_Menu_F8_E2();
2179   1              Show_two_number(temp);
2180   1              if (return_sound_table() == 1 )
2181   1              {
2182   2                      GD5800_select_chapter_new(temp + QUXIAO);
2183   2              }
2184   1              if (return_Two_menu_set_success() == 1)
2185   1              {
2186   2                      GD5800_select_chapter_new(CHENGGONG);
2187   2                      set_Two_menu_set_success(0);
2188   2              }
2189   1      }
2190          
2191          void fun95(void) //½âÂë²Ëµ¥
2192          {
2193   1              unsigned char Two_Menu_F6_E1_temp = 0;
2194   1              unsigned char Two_Menu_F6_E8_temp = 0;
2195   1              Two_Menu_F6_E1_temp = return_Two_Menu_F6_E1();
2196   1              Two_Menu_F6_E8_temp = return_Two_Menu_F6_E8();
2197   1              //tm1629_load();
2198   1              //display();
2199   1      
2200   1              if (  display_ram[0] == BAOJING_1)
2201   1              {
2202   2                      if (P24 == 1)
2203   2                      {
2204   3                              GD5800_select_chapter(BAOJING);
2205   3                      }       
2206   2              }
2207   1              P55 = 1;//ÃëÕëÃð
2208   1              if (Two_Menu_F6_E8_temp == 0)
2209   1              {
2210   2                      P17 = 1;
2211   2              }
2212   1              else
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 37  

2213   1              {
2214   2                      if (return_await_number_table() == 1)
2215   2                      {
2216   3                              P17 = 1;
2217   3                              set_await_number_table(2);
2218   3                      }
2219   2                      if (return_await_number_table() == 3)
2220   2                      {
2221   3                              P17 = 0;
2222   3                              set_await_number_table(0);
2223   3                      }
2224   2              }
2225   1              
2226   1              
2227   1      }
2228          
2229          void fun96(void) //¶þ¼¶²Ëµ¥F6-E6
2230          {
2231   1              tm1629_E(0x06);
2232   1      }
2233          
2234          void fun97(void) //¶þ¼¶²Ëµ¥F6-E6
2235          {
2236   1              unsigned char temp = 0;
2237   1              temp = return_Two_Menu_F6_E6();
2238   1              Show_one_number(temp);
2239   1      }
2240          
2241          void fun98(void) //¶þ¼¶²Ëµ¥F6-E7
2242          {
2243   1              tm1629_E(0x07);
2244   1      }
2245          
2246          void fun99(void) //¶þ¼¶²Ëµ¥F6-E7
2247          {
2248   1              unsigned char temp = 0;
2249   1              temp = return_Two_Menu_F6_E7();
2250   1              Show_one_number(temp);
2251   1      }
2252          
2253          void fun100(void) //¶þ¼¶²Ëµ¥F6-E8
2254          {
2255   1              tm1629_E(0x08);
2256   1      }
2257          
2258          void fun101(void) //¶þ¼¶²Ëµ¥F6-E8
2259          {
2260   1              unsigned char temp = 0;
2261   1              temp = return_Two_Menu_F6_E8();
2262   1              Show_one_number(temp);
2263   1      }
2264          #ifdef COPY_TWO_MACHINE
2265          void fun102(void) //FE²Ëµ¥
2266          {
2267   1              tm1629_f(0x0E);
2268   1      }
2269          
2270          void fun103(void) //FE E1²Ëµ¥
2271          {
2272   1              tm1629_E(0x01);
2273   1              Two_Menu_FE_E1_addr = 0;
2274   1          Two_Menu_FE_status = 0;
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 38  

2275   1              usart1_begin = 0;
2276   1      }
2277          
2278          void fun104(void) //FE E2²Ëµ¥
2279          {
2280   1              tm1629_E(0x02);
2281   1              Two_Menu_FE_E2_addr = 0;
2282   1              Two_Menu_FE_E2_table = 0;
2283   1      }
2284          
2285          void fun105(void) //FE E1²Ëµ¥ ÉèÖÃ²Ëµ¥
2286          {
2287   1              uint8_t eeprom_buf[8];
2288   1              uint8_t i;
2289   1              if (Two_Menu_FE_status == 0) //×´Ì¬0 ±íÊ¾ ·¢ËÍ»òÕßÖØ·¢  ×´Ì¬1 ±íÊ¾µÈ´ý¶Ô·½½ÓÊÕ  ×´Ì¬2±íÊ¾¶Ô·½½ÓÊÕÕýÈ· ×´Ì
             -¬3±íÊ¾½ÓÊÕÍê³É
2290   1              {
2291   2                      if (return_await_number_table() == 1)
2292   2                      {
2293   3                              tm1629_clear();
2294   3                              buf_display[0][1] = 0x80;
2295   3                              buf_display[0][2] = 0x80;
2296   3                              display();
2297   3                              set_await_number_table(2);
2298   3                      }
2299   2                      if (return_await_number_table() == 3)
2300   2                      {
2301   3                              tm1629_clear();
2302   3                              display();
2303   3                              set_await_number_table(0);
2304   3                      }
2305   2                      IRcvStr(I2C_ADDRESS, Two_Menu_FE_E1_addr, eeprom_buf, 8);
2306   2                      //delay10ms();
2307   2                      Usart1_SendData(0XAA);
2308   2                      for (i = 0; i < 8; i++)
2309   2                      {
2310   3                              Usart1_SendData(eeprom_buf[i]);
2311   3                      }
2312   2                      Usart1_SendData(0X55);
2313   2                      Two_Menu_FE_status = 1;
2314   2              }
2315   1              else if (Two_Menu_FE_status == 2)
2316   1              {
2317   2                      Two_Menu_FE_E1_addr = Two_Menu_FE_E1_addr + 8;
2318   2                      if (Two_Menu_FE_E1_addr == (BACK+0x20))
2319   2                      {
2320   3                              Two_Menu_FE_status = 3;
2321   3                      }
2322   2                      else
2323   2                      {
2324   3                              Two_Menu_FE_status = 0;
2325   3                      }
2326   2                      
2327   2              }
2328   1              else if (Two_Menu_FE_status == 3)
2329   1              {
2330   2                      tm1629_clear();
2331   2                      buf_display[0][0] = 0x80;
2332   2                      buf_display[0][1] = 0x80;
2333   2                      buf_display[0][2] = 0x80;
2334   2                      buf_display[0][3] = 0x80;
2335   2                      display();
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 39  

2336   2              }
2337   1              
2338   1      }
2339          
2340          void fun106(void) //FE E2²Ëµ¥ ÉèÖÃ²Ëµ¥½ÓÊÕ
2341          {
2342   1      //      unsigned char i;
2343   1      //      unsigned char eeprom[8];
2344   1              if (Two_Menu_FE_E2_table == 1)
2345   1              {
2346   2                      ISendStr(I2C_ADDRESS, Two_Menu_FE_E2_addr, Two_Menu_FE_E2_data + 1, 8);
2347   2                      //delay10ms();
2348   2                      Two_Menu_FE_E2_addr = Two_Menu_FE_E2_addr + 8;
2349   2                      Two_Menu_FE_E2_table = 0;
2350   2                      Usart1_SendData(0xaa);
2351   2      #if 0
                              for (i = 0; i < 8; i++)
                              {
                                      Usart1_SendData(Two_Menu_FE_E2_data[i+1]);
                              }       
                              Usart1_SendData(0x55);
                              IRcvStr(I2C_ADDRESS, 0x1500, eeprom, 8);
                              delay10ms();
                              delay10ms();
                              for (i = 0; i < 8; i++)
                              {
                                      Usart1_SendData(eeprom[i]);
                              }
              
              #endif
2366   2              }
2367   1              if (Two_Menu_FE_E2_addr == 0) //µÈ´ý´«Êä
2368   1              {
2369   2                      tm1629_clear();
2370   2                      buf_display[0][0] = 0x80;
2371   2                      display();
2372   2              }
2373   1              else if (Two_Menu_FE_E2_addr == (BACK + 0x20)) //´«ÊäÍê±Ï
2374   1              {
2375   2                      tm1629_clear();
2376   2                      buf_display[0][0] = 0x80;
2377   2                      buf_display[0][1] = 0x80;
2378   2                      buf_display[0][2] = 0x80;
2379   2                      buf_display[0][3] = 0x80;
2380   2                      display();
2381   2              }
2382   1              else //´«ÊäÖÐ
2383   1              {
2384   2                      if (return_await_number_table() == 1)
2385   2                      {
2386   3                              tm1629_clear();
2387   3                              buf_display[0][1] = 0x80;
2388   3                              buf_display[0][2] = 0x80;
2389   3                              display();
2390   3                              set_await_number_table(2);
2391   3                      }
2392   2                      if (return_await_number_table() == 3)
2393   2                      {
2394   3                              tm1629_clear();
2395   3                              display();
2396   3                              set_await_number_table(0);
2397   3                      }
C51 COMPILER V9.01   TM1629                                                                04/11/2016 14:38:44 PAGE 40  

2398   2              }
2399   1              
2400   1      }
2401          #endif


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   7951    ----
   CONSTANT SIZE    =     32    ----
   XDATA SIZE       =    929      98
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
